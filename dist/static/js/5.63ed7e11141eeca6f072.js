webpackJsonp([5],{LYCl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("d6Zk"),r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-secondary",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t._v(" "),s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-secondary",attrs:{to:{name:"Tour Management"}}},[t._v("Quản lý tour")])],1),t._v(" "),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Quản lý đặt tour")])])]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex flex-row justify-content-between mb-2"},[t._m(0),t._v(" "),s("div",{staticClass:"d-flex flex-row"},[s("div",[s("form",{staticClass:"input-group",on:{submit:function(e){return e.preventDefault(),t.submitSearchBlock()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTextBlock,expression:"searchTextBlock"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Nhập mã tour, tên khách"},domProps:{value:t.searchTextBlock},on:{input:function(e){e.target.composing||(t.searchTextBlock=e.target.value)}}}),t._v(" "),t._m(1)])])])]),t._v(" "),s("table",{staticClass:"table table-hover"},[s("caption",[t._v("\n          List of tour order\n        ")]),t._v(" "),t._m(2),t._v(" "),s("tbody",[t.isLoadingB?s("tr",{staticClass:"text-center"},[t._m(3)]):t._l(t.tourOrdersBlocked.data,function(e,a){return s("tr",{key:a},[s("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.customer_name))]),t._v(" "),s("td",[t._v(t._s(e.customer_phone_number))]),t._v(" "),s("td",[t._v(t._s(e.date_departure_code))]),t._v(" "),s("td",[t._v(t._s(e.date_departure))]),t._v(" "),s("td",[t._v(t._s(e.quantity_people))]),t._v(" "),s("td",[t._v(t._s(t._f("myCurrency")(e.total))+" đ")]),t._v(" "),s("td",[t._v(t._s(e.note))]),t._v(" "),t._m(4,!0),t._v(" "),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-info",attrs:{href:"#"},on:{click:function(s){return t.activeTourOrder(e)}}},[s("i",{staticClass:"fas fa-check-circle"}),t._v(" Duyệt\n              ")])]),t._v(" "),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-danger btn-link mr-0",attrs:{href:"#"},on:{click:function(s){return t.onClickDeleteTourOrder(e.id)}}},[t._v("Xoá")])])])})],2)]),t._v(" "),s("paginate",{attrs:{"page-count":null==t.tourOrdersBlocked.last_page?1:t.tourOrdersBlocked.last_page,"click-handler":t.clickPaginateTourOrderBock,"prev-text":"Prev","next-text":"Next","container-class":"pagination justify-content-end","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","prev-link-class":"page-link","next-class":"page-item","next-link-class":"page-link"}})],1)]),t._v(" "),s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"d-flex flex-row justify-content-between mb-2"},[t._m(5),t._v(" "),s("div",{staticClass:"d-flex flex-row"},[s("div",[s("form",{staticClass:"input-group",on:{submit:function(e){return e.preventDefault(),t.submitSearchActive()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTextActive,expression:"searchTextActive"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Nhập mã tour, tên khách"},domProps:{value:t.searchTextActive},on:{input:function(e){e.target.composing||(t.searchTextActive=e.target.value)}}}),t._v(" "),t._m(6)])])])]),t._v(" "),s("table",{staticClass:"table table-hover"},[s("caption",[t._v("\n          List of tour order activated\n        ")]),t._v(" "),t._m(7),t._v(" "),s("tbody",[t.isLoadingA?s("tr",{staticClass:"text-center"},[t._m(8)]):t._l(t.tourOrdersActive.data,function(e,a){return s("tr",{key:a},[s("th",{attrs:{scope:"row"}},[t._v(t._s(e.id))]),t._v(" "),s("td",[t._v(t._s(e.customer_name))]),t._v(" "),s("td",[t._v(t._s(e.customer_phone_number))]),t._v(" "),s("td",[t._v(t._s(e.date_departure_code))]),t._v(" "),s("td",[t._v(t._s(e.date_departure))]),t._v(" "),s("td",[t._v(t._s(e.quantity_people))]),t._v(" "),s("td",[t._v(t._s(t._f("myCurrency")(e.total))+" đ")]),t._v(" "),t._m(9,!0),t._v(" "),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-warning",attrs:{href:"#"},on:{click:function(s){return t.blockTourOrder(e)}}},[s("i",{staticClass:"fas fa-times-circle"}),t._v(" Hủy\n              ")])]),t._v(" "),s("td",{staticClass:"text-center text-success"},[t._v("\n              Đã duyệt\n            ")])])})],2)]),t._v(" "),s("paginate",{attrs:{"page-count":null==t.tourOrdersActive.last_page?1:t.tourOrdersActive.last_page,"click-handler":t.clickPaginateTourOrderActive,"prev-text":"Prev","next-text":"Next","container-class":"pagination justify-content-end","page-class":"page-item","page-link-class":"page-link","prev-class":"page-item","prev-link-class":"page-link","next-class":"page-item","next-link-class":"page-link"}})],1)]),t._v(" "),s("submit-delete-modal",[s("div",{staticClass:"modal-footer",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:function(e){return t.closeModalDelete()}}},[t._v("\n        Huỷ\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.submitDelete()}}},[t.loadingButton?s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e(),t._v("\n        Có\n      ")])])])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h5",{staticClass:"card-title"},[this._v("Danh sách đặt tour")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-light",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-search"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#ID")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Tên khách")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Số điện thoại")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Mã tour")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Ngày khởi hành")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Số lượng người")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Tổng tiền")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Ghi chú")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Active")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Tuỳ chọn")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"12"}},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"badge badge-danger"},[this._v("No active")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h5",{staticClass:"card-title"},[this._v("Danh sách tour đã duyệt")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-light",attrs:{type:"submit"}},[e("i",{staticClass:"fas fa-search"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{attrs:{scope:"col"}},[t._v("#ID")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Tên khách")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Số điện thoại")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Mã tour")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Ngày khởi hành")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Số lượng người")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Tổng tiền")]),t._v(" "),s("th",{attrs:{scope:"col"}},[t._v("Status")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Active")]),t._v(" "),s("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Đã duyệt")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{attrs:{colspan:"12"}},[e("div",{staticClass:"spinner-border",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[this._v("Loading...")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("span",{staticClass:"badge badge-success"},[this._v("Active")])])}]};var c=function(t){s("klB3")},i=s("VU/8")(a.a,r,!1,c,null,null);e.default=i.exports},d6Zk:function(t,e,s){"use strict";(function(t){var a=s("Xxa5"),r=s.n(a),c=s("exGp"),i=s.n(c),n=s("Dd8w"),o=s.n(n),l=s("NYxO"),_=s("IcnI"),u=s("D52M"),v=(s.n(u),s("PJh5")),d=s.n(v);d.a.locale("vi"),e.a={data:function(){return{tourOrder:{id:""},filter:{date:""},searchTextActive:"",searchTextBlock:"",vi:u.vi,loadingButton:!1}},created:function(){_.a.dispatch("tourorder/TOUR_ORDER_FETCH")},computed:o()({},Object(l.c)("tourorder",["tourOrdersActive","tourOrdersBlocked","isLoadingA","isLoadingB"])),methods:o()({},Object(l.b)("tourorder",["TOUR_ORDER_PAGINATE","TOUR_ORDER_ACTIVE_SEARCH","TOUR_ORDER_BLOCK_SEARCH","TOUR_ORDER_FILTER","TOUR_ORDER_DELETE","TOUR_ORDER_ACTIVE","TOUR_ORDER_BLOCK"]),{dateFormatter:function(t){return d()(t).format("YYYY-MM-DD")},selectDate:function(t){var e=this;return i()(r.a.mark(function t(){var s,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=e,a=void 0,t.next=4,s.$nextTick(function(){a=e.dateFormatter(e.filter.date)});case 4:return t.next=6,e.TOUR_ORDER_FILTER(a);case 6:case"end":return t.stop()}},t,e)}))()},onClearFilter:function(){this.filter.date="",_.a.dispatch("tourorder/TOUR_ORDER_FETCH")},submitSearchActive:function(){this.TOUR_ORDER_ACTIVE_SEARCH(this.searchTextActive)},submitSearchBlock:function(){this.TOUR_ORDER_BLOCK_SEARCH(this.searchTextBlock)},clickPaginateTourOrderBock:function(t){},clickPaginateTourOrderActive:function(t){},activeTourOrder:function(t){var e={id:t.id,is_active:1};this.TOUR_ORDER_ACTIVE(e)},blockTourOrder:function(t){var e={id:t.id,is_active:0};this.TOUR_ORDER_BLOCK(e)},onClickDeleteTourOrder:function(e){this.tourOrder.id=e,t(".submit__delete__modal").modal("show")},submitDelete:function(){this.TOUR_ORDER_DELETE(this.tourOrder.id),t(".submit__delete__modal").modal("hide"),this.$toast.success({color:"#67C23A",title:"Success!",message:"Xoá thành công!"})},closeModalDelete:function(){t(".submit__delete__modal").modal("hide"),this.tourOrder.id=""}})}}).call(e,s("7t+N"))},klB3:function(t,e){}});
//# sourceMappingURL=5.63ed7e11141eeca6f072.js.map