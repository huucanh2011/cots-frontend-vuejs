webpackJsonp([16],{"4Qpo":function(t,a){},MqfO:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("Dd8w"),o=s.n(i),e=s("Xxa5"),c=s.n(e),n=s("exGp"),r=s.n(n),l=s("NYxO"),d=s("IcnI"),u={data:function(){return{location:{},imageLocations:[],posts:{},currentLocationId:"",isLoading:!1}},created:function(){var t=this;return r()(c.a.mark(function a(){var s,i,o,e;return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(s=t).isLoading=!0,i=s.currentLocationId=s.$route.params.locationId,a.next=5,s.LOCATION_FETCH_ONE(i);case 5:o=a.sent,e=o.data,s.location=e.location,s.posts=e.posts,s.imageLocations=e.imageLocations,d.a.dispatch("home/TOP_LOCATIONS_FETCH"),s.isLoading=!1;case 12:case"end":return a.stop()}},a,t)}))()},computed:o()({},Object(l.c)("authentication",["currentUser","isAuthenticated"]),Object(l.c)("home",["topLocations"])),methods:o()({},Object(l.b)("location",["LOCATION_FETCH_ONE"]),{getImageData:function(t){return this.imageLocations.filter(function(a){return a.post_id==t}).map(function(t){return'<img class="post-image" src="https://storage.googleapis.com/cdio-cots.appspot.com/uploads/posts/'+t.image_name+'" />'})},getUrlImage:function(t){return"https://storage.googleapis.com/cdio-cots.appspot.com/uploads/users/"+t},onClickLocation:function(t){var a=this;return r()(c.a.mark(function s(){var i,o,e;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(i=a).isLoading=!0,i.$router.push({name:"Location Detail",params:{locationId:t}}),s.next=5,i.LOCATION_FETCH_ONE(t);case 5:o=s.sent,e=o.data,i.currentLocationId=t,i.location=e.location,i.posts=e.posts,i.imageLocations=e.imageLocations,d.a.dispatch("home/TOP_LOCATIONS_FETCH"),i.isLoading=!1;case 13:case"end":return s.stop()}},s,a)}))()},getImageLocationData:function(){return this.imageLocations.map(function(t){return'<div class="height--img--cover orverflow-hidden"><img class="w-100 h-100" src="https://storage.googleapis.com/cdio-cots.appspot.com/uploads/locations/'+t.image_name+'" /></div>'})}})},m={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("nav",{attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{staticClass:"text-secondary",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t._v(" "),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Chi tiết địa điểm")])])]),t._v(" "),t.isLoading?s("div",{staticClass:"text-center py-5"},[t._m(0)]):s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"profile-cover shadow"},[s("carousel",{attrs:{data:t.getImageLocationData(),direction:"down",controls:!1,"indicator-type":"disc",interval:3e3}})],1),t._v(" "),s("div",{staticClass:"profile-header"},[s("div",{staticClass:"ml-0 profile-name"},[s("h3",[t._v(t._s(t.location.location_name))])]),t._v(" "),s("div",{staticClass:"profile-header-menu"},[s("ul",{staticClass:"list-unstyled"},[s("li",[s("a",{staticClass:"text-warning"},[t._v(t._s(t._f("myRating")(t.location.avg_location_scores))),s("i",{staticClass:"fas fa-star ml-2"})])])])])])]),t._v(" "),s("div",{staticClass:"col-md-3 pr-2"},[s("div",{staticClass:"card shadow rounded-lg border-0 sticky-top"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-center"},[t._v("Thông tin")]),t._v(" "),s("blockquote",{staticClass:"blockquote mb-0"},[s("h5",{staticClass:"mb-2"},[t._v(t._s(t.location.description))]),t._v(" "),s("footer",{staticClass:"blockquote-footer"},[t._v("Địa chỉ: "),s("cite",{attrs:{title:t.location.address}},[t._v(t._s(t.location.address))])])])])])]),t._v(" "),s("div",{staticClass:"col-md-6 px-2"},[t.isLoading?s("div",{staticClass:"text-center py-5"},[t._m(1)]):t._l(t.posts.data,function(a,i){return s("div",{key:i,staticClass:"card shadow-sm rounded-lg border-0"},[s("div",{staticClass:"card-body"},[s("div",{staticClass:"post"},[s("div",{staticClass:"post-header"},[s("img",{staticClass:"border",attrs:{src:t.getUrlImage(a.user.avatar)}}),t._v(" "),s("div",{staticClass:"d-flex flex-row"},[s("div",{staticClass:"d-flex flex-column post-info"},[s("div",{staticClass:"d-flex flex-row"},[s("router-link",{staticClass:"text-center text-info mr-4",attrs:{to:{name:"Location Detail",params:{locationId:a.location.id}}}},[s("i",{staticClass:"fas fa-map-marker-alt"}),t._v(" "+t._s(a.location.location_name)+"                  \n                  ")]),t._v(" "),s("span",{staticClass:"text-warning mr-auto"},[t._v(t._s(a.post_scores)),s("i",{staticClass:"fas fa-star mx-1"})])],1),t._v(" "),s("div",{staticClass:"d-flex flex-row"},[s("span",{staticClass:"post-author mr-4"},[t._v(t._s(a.user.name))]),t._v(" "),s("span",{staticClass:"post-date"},[t._v(t._s(t._f("myDate2")(a.created_at)))])])])])]),t._v(" "),s("div",{staticClass:"post-body"},[s("p",[t._v("\n              "+t._s(a.post_content)+"\n            ")]),t._v(" "),s("carousel",{attrs:{data:t.getImageData(a.id),"indicator-type":"disc"}})],1),t._v(" "),t._m(2,!0)])])])})],2),t._v(" "),s("div",{staticClass:"col-md-3 pl-2"},[s("div",{staticClass:"card shadow rounded-lg border-0 sticky-top"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title text-center"},[t._v("Địa điểm khác")]),t._v(" "),t._l(t.topLocations,function(a,i){return s("a",{key:i,staticClass:"card-link text-dark",staticStyle:{cursor:"pointer"},attrs:{title:a.location_name},on:{click:function(s){return t.onClickLocation(a.id)}}},[a.id!=t.currentLocationId?s("div",{staticClass:"d-flex flex-row justify-content-between"},[s("p",{staticClass:"text-truncate my-1 mr-3"},[t._v(t._s(a.location_name))]),t._v(" "),s("span",{staticClass:"font-weight-bold text-warning my-1"},[t._v("\n              "+t._s(t._f("myRating")(a.avg_location_scores))+"\n              ")])]):t._e()])})],2)])])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"spinner-border",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"spinner-border",attrs:{role:"status"}},[a("span",{staticClass:"sr-only"},[this._v("Loading...")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"post-actions"},[a("ul",{staticClass:"list-unstyled"},[a("li",[a("a",{staticClass:"like-btn",attrs:{href:"#"}},[a("i",{staticClass:"far fa-heart"}),this._v(" 0 Like\n                ")])]),this._v(" "),a("li",[a("a",{attrs:{href:"#"}},[a("i",{staticClass:"far fa-comment"}),this._v(" 0 Comment")])])])])}]};var _=s("VU/8")(u,m,!1,function(t){s("4Qpo")},null,null);a.default=_.exports}});
//# sourceMappingURL=16.a45c43b8d28c4540ae09.js.map